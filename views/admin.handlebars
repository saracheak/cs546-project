<header class="home-header">
    <h1>Admin Dashboard</h1>
</header>

<nav class="home-nav">
    <a href="/home">Home</a>
    <a href="/parks">All Parks</a>
    <a href="/editPupfile">Edit My PupFile</a>
    <a href="/biscuits">All Biscuits</a>
    <a href="/logout">Logout</a>
</nav>

<section>
    <h2 class="admin-title">Manage Parks</h2>

    <section class="admin-section">
        <h3>Pending Parks</h3>

        {{#if approveMessage}}
            <p class="success">{{approveMessage}}</p>
        {{/if}}
        {{#if approveError}}
            <p class="error">{{approveError}}</p>
        {{/if}}

        {{#if pendingParks.length}}
            <ul>
                {{#each pendingParks}}
                    <li>
                        <p>{{this.park_name}}</p>
                        ({{this.park_type}})<br>
                        {{this.address.street_1}}<br>
                        {{#if this.address.street_2}}
                            {{this.address.street_2}}<br>
                        {{/if}}
                        {{this.address.state}}<br>
                        {{this.address.zip_code}}

                        <form method="post" action="/admin/parks/{{this._id}}/approve" style="display:inline;">
                            <button type="submit">Approve</button>
                        </form>

                        <form method="post" action="/admin/parks/{{this._id}}/deny" style="display:inline;">
                            <button type="submit">Deny</button>
                        </form>
                    </li>
                {{/each}}
            </ul>
        {{else}}
            <p>No pending parks to approve.</p>
        {{/if}}
    </section>

    {{!-- Create Park --}}
    <section class="admin-section">
        <h3>Create New Park</h3>

        {{#if createParkMessage}}
            <p class="success">{{createParkMessage}}</p>
        {{/if}}
        {{#if createParkError}}
            <p class="error">{{createParkError}}</p>
        {{/if}}

        <p>
            Use this form to create a new park. The name and address must not exactly
            match an existing park.
        </p>

        <form method="post" action="/admin/parks/create" class="admin-form" id="create-park-form">

            <h4>Park Info</h4>

            <div>
                <label for="park_name">Park Name:</label>
                <input type="text" id="park_name" name="park_name" required value="{{park_name}}">
            </div>

            <div>
                <label for="park_type">Park Type:</label>
                <select id="park_type" name="park_type" required>
                    <option value="">-- Select Type --</option>
                    <option value="run">run</option>
                    <option value="off-leash">off-leash</option>
                </select>
            </div>

            <h4>Address</h4>

            <div>
                <label for="street_1">Street 1:</label>
                <input type="text" id="street_1" name="street_1" required value="{{street_1}}">
            </div>

            <div>
                <label for="street_2">Street 2 (optional):</label>
                <input type="text" id="street_2" name="street_2" value="{{street_2}}">
            </div>

            <div>
                <label for="city">City:</label>
                <input type="text" id="city" name="city" required value="{{city}}">
            </div>

            <div>
                <label for="state">State:</label>
                <select id="state" name="state" required>
                    <option value="">-- Select State --</option>
                    <option value="NY">NY</option>
                </select>
            </div>

            <div>
                <label for="zip_code">Zip Code:</label>
                <input type="text" id="zip_code" name="zip_code" maxlength="5" required value="{{zip_code}}">
            </div>

            <button type="submit">Create Park</button>
        </form>
    </section>

    {{!-- Delete Park --}}
    <section class="admin-section">
        <h3>Delete Park</h3>

        {{#if deleteParkError}}
            <p class="error">{{deleteParkError}}</p>
        {{/if}}
        {{#if deleteParkMessage}}
            <p class="success">{{deleteParkMessage}}</p>
        {{/if}}

        <form method="post" action="/admin/parks/delete" class="admin-form">
            <label for="delete_park_id">Park ID:</label>
            <input type="text" id="delete_park_id" name="parkId" required>
            <button type="submit">Delete Park</button>
        </form>
    </section>
</section>

<section>
    <h2 class="admin-title">Manage Biscuits</h2>

    {{!-- Create Biscuit --}}
    <section class="admin-section">
        <h3>Create New Biscuit</h3>

        {{#if createMessage}}
            <p class="success">{{createMessage}}</p>
        {{/if}}
        {{#if createError}}
            <p class="error">{{createError}}</p>
        {{/if}}

        <form method="post" action="/admin/biscuits" class="admin-form">
            <label for="biscuit_name">Biscuit Name:</label>
            <input type="text" id="biscuit_name" name="biscuit_name" required>

            <label for="description">Description:</label>
            <textarea id="description" name="description" required></textarea>

            <button type="submit">Create Biscuit</button>
        </form>
    </section>

    {{!-- Update Biscuit --}}
    <section class="admin-section">
        <h3>Update Biscuit</h3>

        {{#if updateMessage}}
            <p class="success">{{updateMessage}}</p>
        {{/if}}
        {{#if updateError}}
            <p class="error">{{updateError}}</p>
        {{/if}}

        <form method="post" action="/admin/biscuits/update" class="admin-form">
            <label for="biscuit_id">Biscuit ID:</label>
            <input type="text" id="biscuit_id" name="biscuitId" required>

            <label for="new_name">New Name:</label>
            <input type="text" id="new_name" name="biscuit_name">

            <label for="new_desc">New Description:</label>
            <textarea id="new_desc" name="description"></textarea>

            <button type="submit">Update Biscuit</button>
        </form>
    </section>

    {{!-- Delete Biscuit --}}
    <section class="admin-section">
        <h3>Delete Biscuit</h3>

        {{#if deleteMessage}}
            <p class="success">{{deleteMessage}}</p>
        {{/if}}
        {{#if deleteError}}
            <p class="error">{{deleteError}}</p>
        {{/if}}

        <form method="post" action="/admin/biscuits/delete" class="admin-form">
            <label for="delete_biscuit_id">Biscuit ID:</label>
            <input type="text" id="delete_biscuit_id" name="biscuitId" required>
            <button type="submit">Delete Biscuit</button>
        </form>
    </section>
</section>

<script src="/js/adminParks.js"></script>